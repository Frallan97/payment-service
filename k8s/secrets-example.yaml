# Example Kubernetes secrets for payment-service
# WARNING: This is an example only. DO NOT commit actual secrets to Git!
#
# To use:
# 1. Copy this file to secrets.yaml
# 2. Replace all placeholder values with actual secrets
# 3. Apply: kubectl apply -f secrets.yaml
# 4. Delete the file: rm secrets.yaml

apiVersion: v1
kind: Secret
metadata:
  name: payment-service-secrets
  namespace: payment-service
type: Opaque
stringData:
  # Stripe Configuration
  # Get these from: https://dashboard.stripe.com/test/apikeys (test mode)
  # Or: https://dashboard.stripe.com/apikeys (production)
  stripe-api-key: "sk_test_51ABC123..."

  # Get webhook secret from: https://dashboard.stripe.com/webhooks
  stripe-webhook-secret: "whsec_ABC123..."

  # Database Configuration
  # Format: postgresql://username:password@host:port/database?sslmode=disable
  database-url: "postgresql://paymentuser:STRONG_PASSWORD_HERE@payment-service-postgresql:5432/paymentdb?sslmode=disable"

  # Redis Configuration
  # Format: redis://host:port or redis://:password@host:port
  redis-url: "redis://payment-service-redis-master:6379"

  # Swish Configuration (optional - for Swedish payments)
  swish-api-url: "https://mss.cpc.getswish.net"
  swish-webhook-secret: "your_swish_webhook_secret"

---
# Image pull secret for GitHub Container Registry
# This allows Kubernetes to pull private images from ghcr.io
apiVersion: v1
kind: Secret
metadata:
  name: ghcr-pull-secret
  namespace: payment-service
type: kubernetes.io/dockerconfigjson
data:
  # Generate this with:
  # kubectl create secret docker-registry ghcr-pull-secret \
  #   --docker-server=ghcr.io \
  #   --docker-username=frallan97 \
  #   --docker-password=<GITHUB_PAT> \
  #   --namespace=payment-service \
  #   --dry-run=client -o yaml
  .dockerconfigjson: BASE64_ENCODED_DOCKER_CONFIG_HERE
